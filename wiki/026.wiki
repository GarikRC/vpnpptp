#summary Возможности версии 0.2.6

В версии vpnpptp 0.2.6 реализовано:

1) улучшен интерфейс модуля ponoff: всплывающие балуны из трея, хинты при наведении мышкой на трей сделаны в едином стиле программы, одного цвета, объемнее, они масштабируются в зависимости от размера шрифта, запомненного конфигуратором, а так как они теперь самописные, то устранен ряд глюков встроенных в Lazarus балунов и хинтов: a) неубирание хинта когда мышка из трея уже была убрана, b) появление на панели задач вместе с балуном кнопки, c) обрезание текста балуном, прячущимся за системный лоток,

2) файл /opt/vpnpptp/resolv.conf переименован в /opt/vpnpptp/resolv.conf.before, а файл /opt/vpnpptp/resolv.conf.copy переименован в /opt/vpnpptp/resolv.conf.after для придания им более ясного смысла,

3) временные файлы, которые должны быть временными, но не зависеть от перезагрузки компьютера и стирания тем самым /tmp, вынесены в директорию /opt/vpnpptp/tmp,

4) добавлена поддержка сетевых интерфейсов brN, где 0<=N<=9,

5) так как файл /opt/vpnpptp/resolv.conf.after создается конфигуратором лишь тогда, когда необходимо при поднятом VPN использовать DNS без получения их от VPN-сервера, то есть при незадании опции usepeerdns, то есть использовать DNS1 при поднятом VPN и DNS2 при поднятом VPN, заданные в конфигураторе, то так как эти DNS могут быть заданы с целью родительского контроля, то такой контроль был усилен для всех дистрибутивов - модуль ponoff при поднятом VPN, если существует файл /opt/vpnpptp/resolv.conf.after, проверяет по таймеру действительно ли используются DNS1 при поднятом VPN, DNS2 при поднятом VPN, и если это не так, то модуль ponoff немедленно приводит состояние DNS к требуемому; в Fedora модуль ponoff сам создает файл /opt/vpnpptp/resolv.conf.after если его нет, заполняя его по возможности полученными от VPN-сервера DNS, а после этого начинает работать для Fedora вышеизложенное в этом п. 5 даже для опции usepeerdns, так как в Fedora имеет место п. 6,

6) в Fedora dhclient имеет право изменять файл /etc/resolv.conf, поэтому получение маршрутов через DHCP в этом дистрибутиве было реализовано в предыдущей версии через сначала разрешение dhclient'у изменить файл /etc/resolv.conf, то есть подождать, а лишь затем устанавливать соединение VPN, приводя состояние DNS при поднятом VPN к требуемому реализованными ранее алгоритмами после ожидания, но ожидание - не есть хорошее решение, поэтому сейчас согласно п.5 модуль ponoff не ждет dhclient, а корректирует за ним сам состояние DNS при поднятом VPN,

7) учитывая вышеизложенное, в Fedora не рекомендуется одновременно использовать получение маршрутов через DHCP и осуществлять автозапуск интернета при старте системы демоном pppd(xl2tpd) без графики, о чем конфигуратор выводит предупреждающее сообщение, так как dhclient изменяет файл /etc/resolv.conf, поэтому в скрипт /etc/rc.local для Fedora после dhclient добавлена задержка sleep 10, что замедлит начальную загрузку системы на 10 секунд, если пользователь проигнорирует предупреждение конфигуратора,

8) родительский контроль также был улучшен путем смягчения требования указать хотя бы одно из детских DNS, а не оба как ранее, - будет использоваться только оно, конфигуратор сконфигурирует соединение на одном детском DNS; родительский контроль также был усилен путем добавленного игнорирования недетских DNS в момент конфигурирования соединения, если хотя бы одно из них детское.
