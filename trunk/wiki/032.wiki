#summary Возможности версии 0.3.2

В версии vpnpptp 0.3.2 реализовано:

1) добавлено приложение vpnmandriva, которое выполняет функции отсутствующего в mcc (Центр Управления Mandriva) настройки VPN PPTP (mcc находится в пакете drakconf), но которое наиболее полно использует интеграцию в дистрибутивы, основанные на Mandriva,

2) вызов приложения vpnmandriva происходит через Центр Управления->Сеть и Интернет->Настройка VPN->VPN PPTP или из аналогичного раздела в net_applet, также можно просто запустить из любой директории исполняемый файл приложения,

3) в vpnmandriva создаются новые сетевые интерфейсы pppN, где N из диапазона [0..100] без возможности их отредактировать повторно, удаляются такие соединения через Центр Управления->Сеть и Интернет->Удалить подключение,

4) файервол для vpnmandriva настраивается через Центр Управления, работа с DNS реализована исключительно так, как она реализована в дистрибутиве,

5) приложение vpnmandriva основано на недоделанной в Mandiva возможности настройки VPN PPTP, поэтому конфиги используются, предложенные разработчиками Mandiva, кроме: а) vpnmandriva использует скрипт /etc/ppp/ip-down.d/vpnmandriva-ip-down, в котором просто происходит рестарт сети, но этот скрипт реагирует лишь на linkname vpnmandriva, б) в провайдерский файл настроек добавлена опция unut N, в) в провайдерский файл настроек добавлена опция linkname vpnmandriva, г) метрика для pppN предлагается 1, вместо 25, д) опция nobuffer предложена включенной по-умолчанию с возможностью изменения, е) добавлена возможность настройки аутентификации и шифрования, ё) файл /etc/ppp/chap-secrets не используется, пароль пишется в провайдерский файл настроек /etc/ppp/peers/pppN, ж) при выборе шифрования mppe опция noccp не используется,

6) vpnmandriva автоматически предлагает настроить сетевой интерфейс pppN, подбирая ближайший еще ненастроенный из диапазона [0..100], создавая в итоге /etc/sysconfig/network-scripts/ifcfg-pppN, также создается /etc/ppp/peers/pppN и скрипт /etc/ppp/ip-down.d/vpnmandriva-ip-down, больше никаких изменений не производится, у vpnmandriva отсутствует даже свой собственный конфиг за ненадобностью,

7) опции разрешения пользователям управлять подключением, установления соединения при загрузке, подсчет трафика реализованы через /etc/sysconfig/network-scripts/ifcfg-pppN,

8) из достоинств vpnmandriva стоит выделить также работу с различными сетевыми интерфейсами pppN многопрофильно, возможность настройки pppN без учета текущего состояния сети и имеющихся сетевых интерфейсов, без привязки к сетевым интерфейсам, исключительную легкость настройки, но при этом из-за отсутствия привязки к конкретному сетевому интерфейсу при отключении pppN будет происходить рестарт сети,

9) у программы vpnmandriva нет зависимостей, есть только исполняемый файл, который включает в себя все необходимые программе ресурсы; при запуске не под root программа не запустится; при запуске под root программа сама установится (обновится) если она была запущена не из директории /usr/bin/ (скопирует свой исполняемый файл в /usr/bin/ и создаст файл /usr/lib/libDrakX/network/vpn/vpnmandriva.pm),

10) разрешен многократный запуск vpnmandriva; поддерживаются языки: русский, украинский, английский,

11) в vpnmandriva имеется опция ведения лога pppd в /var/log/ppp/vpnmandriva.log.

Примечания:

Несмотря на миграцию Mandriva, начиная с версии 2011 года, на NetworkManager, остается возможность использовать пакет drakx-net и приложение из него net_applet, не говоря уже о том, что в версиях Mandriva до 2011 года по-умолчанию сеть настраивается через mcc и net_applet. Также в дистрибутивах PCLinuxOS, Mageia работа с сетью осталась прежней. Поэтому, приложение vpnmandriva будет полезно во всех дистрибутивах, в которых так или иначе используется net_applet.

При вызове vpnmandriva или при вызове vpnpptp из Центра Управления предлагается ввести имя соединение, но оно не играет никакой роли.

Приложение vpnmandriva является по сути урезанной версией более продвинутой программы vpnpptp, а vpnmandriva является приложением зависимым от дистрибутива и компонентов в этом дистрибутиве. В частности, трафик считается через vpnstat (пакет vpnstat), а просматривается через net_monitor (пакет net_monitor), файервол настраивается в дистрибутиве, соединения удаляются в дистрибутиве, управление соединениями осуществляется через net_applet. Но эти зависимости от дистрибутива не очень жесткие, ведь трафик необязателен, удалить соединение можно, удалив /etc/sysconfig/network-scripts/ifcfg-pppN, вместо net_applet могут использоваться команды ifup pppN, ifdown pppN и т. д.

Программа сделана для новичков, которые могут просто скачать из интернета один исполняемый файл и просто запустить его, но в тоже время программа может быть установлена обычным образом через rpm-пакет (тогда исполняемый файл vpnmandriva должен ложиться в /usr/bin/, а патч vpnmandriva.pm в /usr/lib/libDrakX/network/vpn/).
